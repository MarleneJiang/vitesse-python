<h1 align='center'>Vitesse-Python</h1>

<p align='center'>
Mocking up web app with <b>Vitesse</b><sup><em>(speed)</em></sup><br>
</p>

<br>


<br>

<p align='center'>
<b>ç®€ä½“ä¸­æ–‡</b> | <a href="">English</a>
<!-- Contributors: Thanks for getting interested, however we DON'T accept new transitions to the README, thanks. -->
</p>

<br>

## Introduction

### ğŸ‘€ `Vitesse-Python` 

- Vitesse-Python å¸®åŠ©æ‚¨æ„å»º windows å¹³å°å®¢æˆ·ç«¯çš„åº”ç”¨ï¼Œä¸å†å—pyqtçš„å›°æ‰°ã€‚
- Vitesse-Python çš„è§†å›¾å±‚é‡‡ç”¨ HTML+JS+CSSï¼Œä¸šåŠ¡å±‚é‡‡ç”¨æœ¬åœ° Pythonã€‚
- Vitesse-Python é‡‡ç”¨äº† Vite çš„å¼€å‘æ¨¡å¼ï¼Œæ”¯æŒçƒ­æ›´æ–°ï¼Œå¼€å‘ä½“éªŒæ›´ä½³ã€‚
- Vitesse-Python é‡‡ç”¨äº† PyInstaller æ‰“åŒ…ï¼Œæ”¯æŒ windows å¹³å°ï¼Œæ‰“åŒ…ä½“ç§¯æ›´å°ã€‚
- Vitesse-Python é‡‡ç”¨äº† pywebview ä½œä¸ºæ¸²æŸ“å¼•æ“ï¼Œæ”¯æŒ windows å¹³å°ï¼Œæ¸²æŸ“é€Ÿåº¦æ›´å¿«ã€‚
- Vitesse-Python é‡‡ç”¨äº† Vue3ã€Vitesse ä½œä¸ºå‰ç«¯æ¡†æ¶ï¼Œä»£ç ç¼–å†™æ›´ä¼˜é›…ä»å®¹ã€‚

### ğŸ“¦ é€‚ç”¨åœºæ™¯

- å¯¹è½¯ä»¶çš„ç”¨æˆ·ç•Œé¢æœ‰ä¸€å®šç¾æ„Ÿè¦æ±‚
- éœ€è¦ç”¨åˆ° Python ä¸­çš„äººå·¥æ™ºèƒ½ç­‰æ¨¡å—
- è€ƒè™‘æ­å»ºæœ¬åœ°åº”ç”¨ï¼Œä½¿ç”¨æœ¬æœºè®¡ç®—å’Œå­˜å‚¨èµ„æº
- å¯¹è½¯ä»¶åŠŸèƒ½è¦æ±‚æ¯”è¾ƒé«˜ï¼Œéœ€è¦è‡ªå·±å¼€å‘

### ğŸ‘¨â€ğŸ’» é€‚ç”¨äººç¾¤

- ç†Ÿæ‚‰ Vue3 å’Œ Python ç¼–ç¨‹çš„ç¨‹åºå‘˜ã€‚
- ç†Ÿæ‚‰ HTMLã€CSSã€JS çš„å‰ç«¯å·¥ç¨‹å¸ˆã€‚
- ç†Ÿæ‚‰ Python çš„æ•°æ®åˆ†æå¸ˆã€‚
- ç†Ÿæ‚‰ Python çš„æœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆã€‚
- ç†Ÿæ‚‰ Python çš„äººå·¥æ™ºèƒ½å·¥ç¨‹å¸ˆã€‚
- ç†Ÿæ‚‰ Python çš„è½¯ä»¶å·¥ç¨‹å¸ˆã€‚

## Features

- âš¡ï¸ [Vue 3](https://github.com/vuejs/core), [Vite 3](https://github.com/vitejs/vite), [pnpm](https://pnpm.io/), [ESBuild](https://github.com/evanw/esbuild) - born with fastness

- ğŸ—‚ [File based routing](./src/pages)

- ğŸ“¦ [Components auto importing](./src/components)

- ğŸ [State Management via Pinia](https://pinia.vuejs.org/)

- ğŸ“‘ [Layout system](./src/layouts)

- ğŸ“² [PWA](https://github.com/antfu/vite-plugin-pwa)

- ğŸ¨ [UnoCSS](https://github.com/antfu/unocss) - the instant on-demand atomic CSS engine

- ğŸ˜ƒ [Use icons from any icon sets with classes](https://github.com/antfu/unocss/tree/main/packages/preset-icons)

- ğŸŒ [I18n ready](./locales)

- ğŸ” [Component Preview](https://github.com/johnsoncodehk/vite-plugin-vue-component-preview)

- ğŸ—’ [Markdown Support](https://github.com/antfu/vite-plugin-vue-markdown)

- ğŸ”¥ Use the [new `<script setup>` syntax](https://github.com/vuejs/rfcs/pull/227)

- ğŸ¤™ğŸ» [Reactivity Transform](https://vuejs.org/guide/extras/reactivity-transform.html) enabled

- ğŸ“¥ [APIs auto importing](https://github.com/antfu/unplugin-auto-import) - use Composition API and others directly

- ğŸ–¨ Static-site generation (SSG) via [vite-ssg](https://github.com/antfu/vite-ssg)

- ğŸ¦” Critical CSS via [critters](https://github.com/GoogleChromeLabs/critters)

- ğŸ¦¾ TypeScript, of course

- â˜ï¸ Deploy on Netlify, zero-config

- ğŸ‰ <strong>[Pywebview](https://pywebview.flowrl.com/) inside </strong>

<br>


## Try it now!

> Vitesse-Python requires Node >=14.18 & Python >=3.7

```bash

### GitHub Template

[Create a repo from this template on GitHub](https://github.com/MarleneJiang/vitesse-python).

### Clone to local

If you prefer to do it manually with the cleaner git history

```bash
git clone https://github.com/MarleneJiang/vitesse-python.git
cd vitesse-python
pnpm inits # If you don't have pnpm installed, run: npm install -g pnpm
```

## Usage

### å¼€å‘å‰ç«¯

```bash
pnpm dev
```

### å¼€å‘è½¯ä»¶

```bash
pnpm dev:app
```

### æ•´ä½“å¼€å‘

```bash
pnpm start
```

### é¢„æ‰“åŒ…ï¼Œå¸¦consoleï¼Œæ–¹ä¾¿è¾“å‡ºæ—¥å¿—ä¿¡æ¯

```bash
pnpm pre
```

### é¢„æ‰“åŒ…ï¼Œå¸¦consoleï¼Œç”Ÿæˆæ–‡ä»¶å¤¹ï¼Œä»…winç³»ç»Ÿ

```bash
pnpm pre:folder
```

### æ­£å¼æ‰“åŒ…ï¼Œä»…winç³»ç»Ÿ

```bash
pnpm build
```

### æ­£å¼æ‰“åŒ…ï¼Œç”Ÿæˆæ–‡ä»¶å¤¹ï¼Œä»…winç³»ç»Ÿ

```bash
pnpm build:folder
```

## é«˜çº§ç”¨æ³•

### å®¢æˆ·ç«¯å¼•æ“ä»‹ç»

`Vitesse-Python` åŸºäº [pywebview](https://pywebview.flowrl.com) æ„å»ºå®¢æˆ·ç«¯ã€‚è€Œ pywebview æ„æ¶æ„å»ºå®¢æˆ·ç«¯çš„åŸç†æ˜¯åˆ©ç”¨æœ¬åœ°ç”µè„‘è‡ªå¸¦çš„æµè§ˆå™¨å¼•æ“é©±åŠ¨ï¼Œæ¨¡æ‹Ÿç”Ÿæˆå®¢æˆ·ç«¯ã€‚æœ¬è´¨ä¸Šè¿˜æ˜¯ç½‘é¡µï¼Œæˆ–è€…è¯´æ˜¯ä¸€ä¸ªæµè§ˆå™¨ï¼Œä½†æ˜¯æ„Ÿå®˜ä¸Šå’Œæœ¬åœ°å®¢æˆ·ç«¯æ²¡æœ‰å·®åˆ«ã€‚

é‚£ä¹ˆï¼ŒåŸºäº pywebview æ„æ¶æ„å»ºå®¢æˆ·ç«¯çš„æˆè´¥æˆ–è´¨é‡ï¼Œå°±ä¸æœ¬åœ°ç”µè„‘çš„æµè§ˆå™¨å¼•æ“æ¯æ¯ç›¸å…³äº†ã€‚

##### windows ç³»ç»Ÿ

åœ¨ windows ç³»ç»Ÿä¸Šï¼Œå¤§ä½“ä¸Šåˆ†ä¸ºä¸¤ç±»å®¢æˆ·ç«¯å¼•æ“ï¼šæ­£å¸¸æ¨¡å¼å’Œå…¼å®¹æ¨¡å¼ã€‚`Vitesse-Python` ä»…æ”¯æŒæ­£å¸¸æ¨¡å¼ã€‚

- æ­£å¸¸æ¨¡å¼

æ­£å¸¸æ¨¡å¼ä¸‹ï¼ŒæŒ‰ç…§ edgechromium ï¼Œedgehtmlï¼Œ mshtml çš„å®¢æˆ·ç«¯å¼•æ“ä¾æ¬¡æ£€ç´¢ã€‚å¦‚æœæœ¬åœ°ç”µè„‘ edge æµè§ˆå™¨æ”¯æŒè¿™äº›å¼•æ“ï¼Œåˆ™å®¢æˆ·ç«¯å¯ä»¥æ­£å¸¸å¯åŠ¨ã€‚å¦åˆ™ï¼Œè¯·å®‰è£…å¯¹åº”çš„ [EdgeWebView2Runtime](https://developer.microsoft.com/en-us/microsoft-edge/webview2/) æµè§ˆå™¨å¼•æ“ã€‚

- å…¼å®¹æ¨¡å¼

å¦‚æœæœ¬åœ°ç”µè„‘ edge æµè§ˆå™¨ä¸æ”¯æŒè¿™äº›å¼•æ“ï¼ŒåŒæ—¶ä¹Ÿä¸æƒ³ä¸‹è½½ [EdgeWebView2Runtime](https://developer.microsoft.com/en-us/microsoft-edge/webview2/) ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨å…¼å®¹æ¨¡å¼ã€‚å…¼å®¹æ¨¡å¼çš„åŸç†å°±æ˜¯åˆ©ç”¨ [CEFPython](https://github.com/cztomczak/cefpython)ï¼ŒåµŒå…¥ Chromium çš„ Web æµè§ˆå™¨æ§ä»¶ã€‚ä¹Ÿå°±æ˜¯åªè¦æœ¬åœ°ç”µè„‘å®‰è£…äº†è°·æ­Œæµè§ˆå™¨ V66 ç‰ˆåŠå…¶ä»¥ä¸Šç‰ˆæœ¬ï¼Œå³å¯æ­£å¸¸å¯åŠ¨å®¢æˆ·ç«¯ã€‚ç¼ºç‚¹å°±æ˜¯ç”Ÿæˆçš„å®‰è£…åŒ…ä½“ç§¯ä¼šå¢åŠ å¤§çº¦ 60M å·¦å³ã€‚


### æ„å»ºå®¢æˆ·ç«¯ API

æ„å»ºå®¢æˆ·ç«¯çš„ä¸»ç¨‹åºæ˜¯åœ¨ app æ–‡ä»¶å¤¹ä¸‹çš„ main.pyã€‚ 

main.py é‡Œé¢ä¸»è¦æ˜¯ä¾é  webview.create_window å’Œ webview.start è¿™ä¸¤ä¸ª API æ¥æ„å»ºå®¢æˆ·ç«¯ã€‚å…¶ä»–çš„ä¸€äº› APIï¼Œå¯ä»¥ç›´æ¥æŸ¥çœ‹ [pywebview å®˜ç½‘](https://pywebview.flowrl.com/guide/api.html) äº†è§£è¯¦æƒ…ã€‚

#### webview.create_window

```
webview.create_window(title, url='', html='', js_api=None, width=800, height=600, \
                      x=None, y=None, resizable=True, fullscreen=False, \
                      min_size=(200, 100), hidden=False, frameless=False, \
                      minimized=False, on_top=False, confirm_close=False, \
                      background_color='#FFF')
```

åˆ›å»ºä¸€ä¸ªæ–°çš„ pywebview çª—å£ï¼Œå¹¶è¿”å›å…¶å®ä¾‹ã€‚åœ¨å¼€å§‹ GUI å¾ªç¯ä¹‹å‰ï¼Œçª—å£ä¸ä¼šæ˜¾ç¤ºã€‚

- **title** çª—å£æ ‡é¢˜
- **url** è¦åŠ è½½çš„ URLã€‚å¦‚æœ URL æ²¡æœ‰åè®®å‰ç¼€ï¼Œåˆ™å°†å…¶è§£æä¸ºç›¸å¯¹äºåº”ç”¨ç¨‹åºå…¥å£ç‚¹çš„è·¯å¾„ã€‚æˆ–è€…ï¼Œå¯ä»¥ä¼ é€’ WSGI æœåŠ¡å™¨å¯¹è±¡æ¥å¯åŠ¨æœ¬åœ° Web æœåŠ¡å™¨ã€‚
- **html** è¦åŠ è½½çš„ HTML ä»£ç ã€‚å¦‚æœåŒæ—¶æŒ‡å®šäº† URL å’Œ HTMLï¼ŒHTML ä¼˜å…ˆã€‚
- **js_api** å°† python å¯¹è±¡æš´éœ²åˆ°å½“å‰ pywebview çª—å£çš„ DOM ä¸­ã€‚js_api å¯¹è±¡çš„æ–¹æ³•å¯ä»¥é€šè¿‡è°ƒç”¨ window.pywebview.api.<methodname>(<parameters>)ä» Javascript æ‰§è¡Œã€‚è¯·æ³¨æ„ï¼Œè°ƒç”¨ Javascript å‡½æ•°ä¼šæ”¶åˆ°ä¸€ä¸ªåŒ…å« python å‡½æ•°çš„è¿”å›å€¼ã€‚åªæœ‰åŸºæœ¬çš„ Python å¯¹è±¡ï¼ˆå¦‚ intã€strã€dict......ï¼‰æ‰èƒ½è¿”å› Javascriptã€‚
- **width** çª—æˆ·å®½åº¦ã€‚é»˜è®¤å€¼ä¸º 800pxã€‚
- **height** çª—æˆ·é«˜åº¦ã€‚é»˜è®¤å€¼ä¸º 600pxã€‚
- **x** çª—å£ x åæ ‡ã€‚é»˜è®¤å€¼å±…ä¸­ã€‚
- **y** çª—å£ y åæ ‡ã€‚é»˜è®¤å€¼å±…ä¸­ã€‚
- **resizable** æ˜¯å¦å¯ä»¥è°ƒæ•´çª—å£å¤§å°ã€‚é»˜è®¤å€¼ä¸º True
- **fullscreen** ä»å…¨å±æ¨¡å¼å¼€å§‹ã€‚é»˜è®¤ä¸º False
- **min_size** æŒ‡å®šæœ€å°çª—å£å¤§å°çš„ï¼ˆå®½åº¦ã€é«˜åº¦ï¼‰å…ƒç»„ã€‚é»˜è®¤å€¼ä¸º 200x100
- **hidden** é»˜è®¤æƒ…å†µä¸‹åˆ›å»ºä¸€ä¸ªéšè—çš„çª—å£ã€‚é»˜è®¤ä¸º False
- **frameless** åˆ›å»ºä¸€ä¸ªæ— æ¡†çª—å£ã€‚é»˜è®¤å€¼ä¸º Falseã€‚
- **minimized** ä»¥æœ€å°åŒ–æ¨¡å¼å¯åŠ¨
- **on_top** å°†çª—å£è®¾ç½®ä¸ºå§‹ç»ˆä½äºå…¶ä»–çª—å£çš„é¡¶éƒ¨ã€‚é»˜è®¤å€¼ä¸º Falseã€‚
- **confirm_close** æ˜¯å¦æ˜¾ç¤ºçª—å£å…³é—­ç¡®è®¤å¯¹è¯æ¡†ã€‚é»˜è®¤ä¸º False
- **background_color** åŠ è½½ WebView ä¹‹å‰æ˜¾ç¤ºçš„çª—å£çš„èƒŒæ™¯é¢œè‰²ã€‚æŒ‡å®šä¸ºåå…­è¿›åˆ¶é¢œè‰²ã€‚é»˜è®¤å€¼ä¸ºç™½è‰²ã€‚
- **transparent** åˆ›å»ºä¸€ä¸ªé€æ˜çš„çª—å£ã€‚Windows ä¸æ”¯æŒã€‚é»˜è®¤å€¼ä¸º Falseã€‚è¯·æ³¨æ„ï¼Œæ­¤è®¾ç½®ä¸ä¼šéšè—æˆ–ä½¿çª—å£é“¬é€æ˜ã€‚å°†çª—å£ chrome setframeless éšè—ä¸º Trueã€‚

#### webview.start

```
webview.start(func=None, args=None, localization={}, gui=None, debug=False, http_server=False)
```

å¯åŠ¨ GUI å¾ªç¯å¹¶æ˜¾ç¤ºä¹‹å‰åˆ›å»ºçš„çª—å£ã€‚æ­¤å‡½æ•°å¿…é¡»ä»ä¸»çº¿ç¨‹è°ƒç”¨ã€‚

- **func** å¯åŠ¨ GUI å¾ªç¯æ—¶è°ƒç”¨çš„å‡½æ•°ã€‚
- **args** å‡½æ•°å‚æ•°ã€‚å¯ä»¥æ˜¯å•ä¸ªå€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯å…ƒç»„å€¼ã€‚
- **localization** å¸¦æœ‰æœ¬åœ°åŒ–å­—ç¬¦ä¸²çš„è¯å…¸ã€‚é»˜è®¤å­—ç¬¦ä¸²åŠå…¶é”®åœ¨ localization.py ä¸­å®šä¹‰
- **gui** å¼ºåˆ¶ä½¿ç”¨ç‰¹å®šçš„ GUIã€‚å…è®¸çš„å€¼æ˜¯ cefã€qt æˆ– gtkï¼Œå…·ä½“å–å†³äºå¹³å°ã€‚
- **debug** å¯ç”¨è°ƒè¯•æ¨¡å¼ã€‚
- **http_server** å¯ç”¨å†…ç½® HTTP æœåŠ¡å™¨ã€‚å¦‚æœå¯ç”¨ï¼Œæœ¬åœ°æ–‡ä»¶å°†ä½¿ç”¨éšæœºç«¯å£ä¸Šçš„æœ¬åœ° HTTP æœåŠ¡å™¨æä¾›æœåŠ¡ã€‚å¯¹äºæ¯ä¸ªçª—å£ï¼Œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªå•ç‹¬çš„ HTTP æœåŠ¡å™¨ã€‚å¯¹äºéæœ¬åœ° URLï¼Œæ­¤é€‰é¡¹å°†è¢«å¿½ç•¥ã€‚

### åŸŸé—´é€šä¿¡

#### ä» Python è°ƒç”¨ Javascript

window.evaluate_js(code, callback=None)å…è®¸æ‚¨ä½¿ç”¨åŒæ­¥è¿”å›çš„æœ€åä¸€ä¸ªå€¼æ‰§è¡Œä»»æ„ Javascript ä»£ç ã€‚å¦‚æœæä¾›äº†å›è°ƒå‡½æ•°ï¼Œåˆ™è§£æ promiseï¼Œå¹¶è°ƒç”¨å›è°ƒå‡½æ•°ï¼Œç»“æœä½œä¸ºå‚æ•°ã€‚Javascript ç±»å‹è½¬æ¢ä¸º Python ç±»å‹ï¼Œä¾‹å¦‚ JS å¯¹è±¡åˆ° Python å­—å…¸ï¼Œæ•°ç»„åˆ°åˆ—è¡¨ï¼Œæœªå®šä¹‰ä¸º Noneã€‚ç”±äºå®ç°é™åˆ¶ï¼Œå­—ç¬¦ä¸²â€œnullâ€å°†è¢«è®¡ç®—ä¸º Noneã€‚å¦å¤–ï¼Œevaluate_js è¿”å›çš„å€¼é™åˆ¶ä¸º 900 ä¸ªå­—ç¬¦å†…ã€‚

#### ä» Javascript è°ƒç”¨ Python

ä» Javascript è°ƒç”¨ Python å‡½æ•°å¯ä»¥é€šè¿‡ä¸¤ç§ä¸åŒçš„æ–¹æ³•å®Œæˆã€‚

- é€šè¿‡å°† Python ç±»çš„å®ä¾‹æš´éœ²ç»™ create_window çš„ js_apiã€‚è¯¥ç±»çš„æ‰€æœ‰å¯è°ƒç”¨æ–¹æ³•éƒ½å°†ä»¥ pywebview.api.method_name çš„å½¢å¼å…¬å¼€åˆ° JS åŸŸä¸­ã€‚æ–¹æ³•åç§°ä¸å¾—ä»¥ä¸‹åˆ’çº¿å¼€å¤´ã€‚
- é€šè¿‡å°†å‡½æ•°ä¼ é€’ç»™çª—å£å¯¹è±¡çš„ expose(func)è¿™å°†ä»¥ pywebview.api.func_name çš„å½¢å¼å°†ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°å…¬å¼€åˆ° JS åŸŸã€‚ä¸ JS API ä¸åŒï¼Œexpose ä¹Ÿå…è®¸åœ¨è¿è¡Œæ—¶å…¬å¼€å‡½æ•°ã€‚å¦‚æœ JS API å’Œä»¥è¿™ç§æ–¹å¼å…¬å¼€çš„å‡½æ•°ä¹‹é—´å­˜åœ¨åç§°å†²çªï¼Œåˆ™åè€…ä¼˜å…ˆã€‚
